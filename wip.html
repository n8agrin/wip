<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <title>rene</title>
    <script src="https://raw.github.com/mbostock/d3/master/d3.v2.js" type="text/javascript" charset="utf-8"></script>
    <script type="text/javascript" charset="utf-8" src="wip.js"></script>

    <script type="text/javascript" charset="utf-8">
        function randomData() {
            return d3.range(100).map(function() {
                return [Math.round(Math.random() * 100), Math.round(Math.random() * 100)]
            });
        }

        var data = randomData();


    </script>
    <style type="text/css" media="screen">
        .plot {
            width: 600px;
            height: 400px;
            border: 1px dotted purple;
        }
    </style>
</head>
<body>
    <div id="scatter"></div>
    <div id="pie"></div>

    <script type="text/javascript" charset="utf-8">
        var data = [[0,0], [1, 1], [2,2], [3, 3], [3,3], [4,4], [5,5]];
        var lineLayer = rene.line().interpolate("cardinal");
        var scatterLayer = rene.scatter();
        var plot = rene.plot()
            .addLayer(lineLayer)
            .addLayer(scatterLayer);


        var p1 = rene.pie()
            .innerRadius(10)
            .outerRadius(50);
        var p2 = rene.pie()
            .innerRadius(60)
            .outerRadius(110);
        var pie = rene.plot()
            .addLayer(p1)
            .addLayer(p2);

        // d3.select("#scatter")
        //     .datum([data, data])
        //     .call(plot);

        // setInterval(function() {
        //     var remapped = data.map(function(c) { return [c[0] * Math.random(), c[1] * Math.random()]; });
        //     console.log('remapped', remapped)
        //
        //     var s = d3.select("#scatter");
        //         s.datum([remapped, remapped]);
        //         s.transition()
        //             .duration(1000)
        //             .call(plot);
        // }, 1800)

        var pieData = [10,20,30,40,50];
        var pieData2 = [150,400,500];
        d3.select("#pie")
            .datum([pieData, pieData2])
            .transition()
            .duration(1000)
            .delay(1000)
            .call(pie);

        // setInterval(function() {
        //     var remapped = pieData.map(function(c) { return c * Math.floor((Math.random() * 50)); });
        //     var remapped2 = pieData2.map(function(c) { return c * Math.floor((Math.random() * 50)); });
        //     var s = d3.select("#pie");
        //         s.datum([remapped, remapped2]);
        //         s.transition()
        //             .duration(1000)
        //             .call(pie);
        // }, 1800)
    </script>
</body>
</html>